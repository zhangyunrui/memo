- 避免单个 MQTT 消费者架构（一瘫百瘫，并发不高）。好的办法是
  - 使用规则引擎将数据传输到AWS的其他服务
  - 并行地将数据导入多个存储服务
  - 避免在设备影子上做分析
- 不要直接去控制设备，如果设备断网，如果 qos 为 0，那么设备的状态会和期望的不统一，如果 qos 不为 0，那么设备的状态会不必要的变来变去。最好的办法是使用 shadow
  - 设计时要考虑到连接间断问题
  - 通过设备影子给设备发送命令
  - 通过设备影子查询设备状态
  - 通过版本控制并发性
- Cognito 和 IOT 的结合

$aws/things/myLightBulb/shadow/update 向着一个主题发送消息，是灯泡自己发的还是需要人为的去指定