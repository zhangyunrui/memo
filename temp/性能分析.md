- redis
  - `config set slowlog-log-slower-than 20000` 超过 20000 微秒的查询将会被记录
  - `config set slowlog-max-len 1024` 最多记录 1024 条
  - `config rewrite`
  - `slowlog len` 获取慢查询记录条数
  - `slowlog get [n]` n 指定条数
  - `slowlog reset` 重置
  
- mysql
  - `show variables like '%profiling%';` 查看时间记录是否打开
  - `set profiling=1;` 打开
  - `show profiles;` 查看
  
        "sn": "010118520100000"
    }
[I 2018-07-04 01:58:36.999Z application:115] Statistic:d87a4aa2b21b489b8ee0f6866dcb92b0.router.is_initial---268---3,18,76,0,165,6
[D 2018-07-04 01:58:37.001Z client:1524] *****_packet_read*****server/1137325716335321{"body": {"result": {"wan": {"traffic": {"ul": 123, "dl": 456}, "bandwidth": 123456, "speed": {"average": {"down": 456, "up": 123}, "peak": {"down": 456, "up": 123}, "realtime": {"down": 456, "up": 123}}}, "ssid": "demo_test_9991", "device_count": 1, "timezone": {"position": 1, "offset": 8}, "nodes": [{"mac": {"wan": "30582dad0015", "lan": "4a3987196a38"}, "version": "0.0.1", "is_gw": true, "sn": "demo_test_9991", "mesh_id": "2310c0b06ed511e8be53e0d55e9af19a", "ip": "36.107.38.53", "rssi": -70, "model": "m2", "lan": {"ip": "18.105.155.89", "mask": "239.244.203.224", "gateway": "49.186.146.13", "dns": ["3.197.86.146"]}, "name": null}], "id": "2310c0b06ed511e8be53e0d55e9af19a"}}, "meta": {"router_send_time": "2018-07-04 01:58:36.886", "server_send_time": "2018-07-04 01:58:36.757", "response_topic": "mock", "router_recv_time": "2018-07-04 01:58:36.884", "req_id": "0ff747efd50641938abaadfe88221f76"}}
[D 2018-07-04 01:58:37.001Z client:1998] *****_packet_handle*****48
[D 2018-07-04 01:58:37.002Z client:2163] *****_handle_publish*****server/1137325716335321{"body": {"result": {"wan": {"traffic": {"ul": 123, "dl": 456}, "bandwidth": 123456, "speed": {"average": {"down": 456, "up": 123}, "peak": {"down": 456, "up": 123}, "realtime": {"down": 456, "up": 123}}}, "ssid": "demo_test_9991", "device_count": 1, "timezone": {"position": 1, "offset": 8}, "nodes": [{"mac": {"wan": "30582dad0015", "lan": "4a3987196a38"}, "version": "0.0.1", "is_gw": true, "sn": "demo_test_9991", "mesh_id": "2310c0b06ed511e8be53e0d55e9af19a", "ip": "36.107.38.53", "rssi": -70, "model": "m2", "lan": {"ip": "18.105.155.89", "mask": "239.244.203.224", "gateway": "49.186.146.13", "dns": ["3.197.86.146"]}, "name": null}], "id": "2310c0b06ed511e8be53e0d55e9af19a"}}, "meta": {"router_send_time": "2018-07-04 01:58:36.886", "server_send_time": "2018-07-04 01:58:36.757", "response_topic": "mock", "router_recv_time": "2018-07-04 01:58:36.884", "req_id": "0ff747efd50641938abaadfe88221f76"}}
[D 2018-07-04 01:58:37.002Z client:2333] *****_handle_on_message*****{"body": {"result": {"wan": {"traffic": {"ul": 123, "dl": 456}, "bandwidth": 123456, "speed": {"average": {"down": 456, "up": 123}, "peak": {"down": 456, "up": 123}, "realtime": {"down": 456, "up": 123}}}, "ssid": "demo_test_9991", "device_count": 1, "timezone": {"position": 1, "offset": 8}, "nodes": [{"mac": {"wan": "30582dad0015", "lan": "4a3987196a38"}, "version": "0.0.1", "is_gw": true, "sn": "demo_test_9991", "mesh_id": "2310c0b06ed511e8be53e0d55e9af19a", "ip": "36.107.38.53", "rssi": -70, "model": "m2", "lan": {"ip": "18.105.155.89", "mask": "239.244.203.224", "gateway": "49.186.146.13", "dns": ["3.197.86.146"]}, "name": null}], "id": "2310c0b06ed511e8be53e0d55e9af19a"}}, "meta": {"router_send_time": "2018-07-04 01:58:36.886", "server_send_time": "2018-07-04 01:58:36.757", "response_topic": "mock", "router_recv_time": "2018-07-04 01:58:36.884", "req_id": "0ff747efd50641938abaadfe88221f76"}}
[D 2018-07-04 01:58:37.003Z client:1524] *****_packet_read*****server/1137325716335321{"body": {"result": {"status": true}}, "meta": {"router_send_time": "2018-07-04 01:58:36.892", "server_send_time": "2018-07-04 01:58:36.786", "response_topic": "mock", "router_recv_time": "2018-07-04 01:58:36.892", "req_id": "3851d3b53bb34e8198b8be227d106e34"}}
[D 2018-07-04 01:58:37.004Z client:1998] *****_packet_handle*****48
[D 2018-07-04 01:58:37.004Z client:2163] *****_handle_publish*****server/1137325716335321{"body": {"result": {"status": true}}, "meta": {"router_send_time": "2018-07-04 01:58:36.892", "server_send_time": "2018-07-04 01:58:36.786", "response_topic": "mock", "router_recv_time": "2018-07-04 01:58:36.892", "req_id": "3851d3b53bb34e8198b8be227d106e34"}}
[D 2018-07-04 01:58:37.005Z client:2333] *****_handle_on_message*****{"body": {"result": {"status": true}}, "meta": {"router_send_time": "2018-07-04 01:58:36.892", "server_send_time": "2018-07-04 01:58:36.786", "response_topic": "mock", "router_recv_time": "2018-07-04 01:58:36.892", "req_id": "3851d3b53bb34e8198b8be227d106e34"}}
[D 2018-07-04 01:58:37.006Z client:1524] *****_packet_read*****server/1137325716335321{"body": {"result": {"wan": {"traffic": {"ul": 123, "dl": 456}, "bandwidth": 123456, "speed": {"average": {"down": 456, "up": 123}, "peak": {"down": 456, "up": 123}, "realtime": {"down": 456, "up": 123}}}, "ssid": "demo_test_9991", "device_count": 1, "timezone": {"position": 1, "offset": 8}, "nodes": [{"mac": {"wan": "30582dad0015", "lan": "4a3987196a38"}, "version": "0.0.1", "is_gw": true, "sn": "demo_test_9991", "mesh_id": "2310c0b06ed511e8be53e0d55e9af19a", "ip": "36.107.38.53", "rssi": -70, "model": "m2", "lan": {"ip": "18.105.155.89", "mask": "239.244.203.224", "gateway": "49.186.146.13", "dns": ["3.197.86.146"]}, "name": null}], "id": "2310c0b06ed511e8be53e0d55e9af19a"}}, "meta": {"router_send_time": "2018-07-04 01:58:36.894", "server_send_time": "2018-07-04 01:58:36.831", "response_topic": "mock", "router_recv_time": "2018-07-04 01:58:36.894", "req_id": "f0e59dea5836451c9eebf436ed2c36ec"}}
[D 2018-07-04 01:58:37.006Z client:1998] *****_packet_handle*****48
[D 2018-07-04 01:58:37.007Z client:2163] *****_handle_publish*****server/1137325716335321{"body": {"result": {"wan": {"traffic": {"ul": 123, "dl": 456}, "bandwidth": 123456, "speed": {"average": {"down": 456, "up": 123}, "peak": {"down": 456, "up": 123}, "realtime": {"down": 456, "up": 123}}}, "ssid": "demo_test_9991", "device_count": 1, "timezone": {"position": 1, "offset": 8}, "nodes": [{"mac": {"wan": "30582dad0015", "lan": "4a3987196a38"}, "version": "0.0.1", "is_gw": true, "sn": "demo_test_9991", "mesh_id": "2310c0b06ed511e8be53e0d55e9af19a", "ip": "36.107.38.53", "rssi": -70, "model": "m2", "lan": {"ip": "18.105.155.89", "mask": "239.244.203.224", "gateway": "49.186.146.13", "dns": ["3.197.86.146"]}, "name": null}], "id": "2310c0b06ed511e8be53e0d55e9af19a"}}, "meta": {"router_send_time": "2018-07-04 01:58:36.894", "server_send_time": "2018-07-04 01:58:36.831", "response_topic": "mock", "router_recv_time": "2018-07-04 01:58:36.894", "req_id": "f0e59dea5836451c9eebf436ed2c36ec"}}
[D 2018-07-04 01:58:37.007Z client:2333] *****_handle_on_message*****{"body": {"result": {"wan": {"traffic": {"ul": 123, "dl": 456}, "bandwidth": 123456, "speed": {"average": {"down": 456, "up": 123}, "peak": {"down": 456, "up": 123}, "realtime": {"down": 456, "up": 123}}}, "ssid": "demo_test_9991", "device_count": 1, "timezone": {"position": 1, "offset": 8}, "nodes": [{"mac": {"wan": "30582dad0015", "lan": "4a3987196a38"}, "version": "0.0.1", "is_gw": true, "sn": "demo_test_9991", "mesh_id": "2310c0b06ed511e8be53e0d55e9af19a", "ip": "36.107.38.53", "rssi": -70, "model": "m2", "lan": {"ip": "18.105.155.89", "mask": "239.244.203.224", "gateway": "49.186.146.13", "dns": ["3.197.86.146"]}, "name": null}], "id": "2310c0b06ed511e8be53e0d55e9af19a"}}, "meta": {"router_send_time": "2018-07-04 01:58:36.894", "server_send_time": "2018-07-04 01:58:36.831", "response_topic": "mock", "router_recv_time": "2018-07-04 01:58:36.894", "req_id": "f0e59dea5836451c9eebf436ed2c36ec"}}
[D 2018-07-04 01:58:37.009Z client:1976] *****_packet_queue*****[{'qos': 0, 'command': 48, 'to_process': 282, 'mid': 2068, 'packet': bytearray(b'0\x97\x02\x00\x04mock{"body": {"params": {"sn": "010118520100000"}, "method": "router.is_initial"}, "meta": {"server_send_time": "2018-07-04 01:58:37.009", "response_topic": "server/1137325716335321", "app_request_time": "2018-07-04 01:58:36.974", "req_id": "e4a8d74340a84ad09bd3289bb6bb6ade"}}'), 'pos': 0}]
[D 2018-07-04 01:58:37.010Z iot_mqtt:47] [--2--] Publish to &lt;mock&gt; mqtt message: {
        "body": {
            "params": {
                "sn": "010118520100000"
            },
            "method": "router.is_initial"
        },
        "meta": {
            "server_send_time": "2018-07-04 01:58:37.009",
            "response_topic": "server/1137325716335321",
            "app_request_time": "2018-07-04 01:58:36.974",
            "req_id": "e4a8d74340a84ad09bd3289bb6bb6ade"
        }
