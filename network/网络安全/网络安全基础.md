### 网络安全问题概述
#### 计算机网络面临的威胁
- 被动攻击（截获）
- 主动攻击
  - 篡改
  - 恶意程序
  - 拒绝服务（DoS）
#### 安全的计算机网络
- 保密性
- 端点鉴别
- 信息的完整性
- 运行的安全性
#### 数据加密模型
- `Dk(Y) = Dk(Ek(X)) X`
- 近代密码学里程碑
  - 数据加密标准 DES（Data Encryption Standard）
  - 公钥密码体质（public key crypto-system）

### 两类密码体制
#### 对称密钥密码体制
- 3DES `Ek1(Dk2(Ek1(X)))`
- AES（Advanced Encryption Standard）
#### 公钥密码体制
- 产生原因
  - 对称密钥密码体制的*密钥分配问题*（密钥分配中心 KDC（Key Distribution Center）成本高）
  - 对*数字签名*的需求
- 特性
  - 加密密钥 PK（Public Key 公钥）是公开的
  - 解密密钥 SK（Secret Key 私钥）是保密的
  - 用 B 的公钥加密内容，可以保证只有 B 的私钥能解密
  - `Epk(Dsk(X)) = Dsk(Epk(X)) = Y` D 运算和 E 运算符合交换律
  - 目前公钥加密算法的开销较大

### 数字签名
- 保证实现以下三点功能
  - 报文鉴别（确定是某某发的）
  - 报文完整性
  - 不可否认
- 用自己的私钥进行 D 运算，别人用我的公钥进行 E 运算，即可实现数字签名的功能 `Epk(Dsk(X))`

### 鉴别
#### 报文鉴别
- 密码散列函数
 - 散列函数的输入可能很长，但输出长度是固定的且较短，输出叫做散列（值）
 - 输入与输出是多对一，且为单向
- 实用的密码散列函数 MD5 和 SHA-1
- 报文鉴别码
报文 + Dsk(散列(报文)) -> 散列(报文) = Epk(Dsk(散列(报文)))
因为散列长度固定，所以接收方可以把报文和 MAC(即 Dsk(散列(报文))) 分开
#### 实体鉴别
不用对每一个收到的报文都进行鉴别，而是在系统接入的全部持续时间内和自己通信的实体只鉴别一次
- 重放攻击：A 向 B 发送消息，用对称密钥直接对报文进行加解密时，C 可以截获，再发送给 B
- 不重数：为了对付重放攻击而引入。步骤如下，Kab 为 AB 共享的密钥
  - A --A+Ra--> B
  - B --Rb+Kab(Ra)--> A
  - A --Kab(Rb)--> B
- 中间人攻击：C 可以冒充 A 给 B 发消息，进而升级到中间人攻击，区别在于前者是凭空发起。能攻击成功根源都是 B 以为 C 的公钥是 A 的公钥。所以公钥的分配和认证公钥的真实性很重要。

### 密钥分配
#### 对称密钥分配
Kab 为 AB 本次通信密钥，为 KDC 随机产生。KDC 存 {A: Ka, B: Kb}。A 存 Ka，B 存 Kb
- A 向密钥分配中心 KDC 发送消息，包含 A 和 B 的登记身份，说明想和 B 通信
- KDC 回复 A：Ka(Kab + kb(A+B+Kab))
- A 向 B 发送：kb(A+B+Kab)
#### 公钥的分配
- 要确定一个公钥是否是某实体的，需要一个值得信赖的机构来将公钥与其对应实体进行绑定，这样的机构叫认证中心 CA（Certification Authority）
- 任何用户都可以从可信的地方获得 CA 的公钥，此公钥用来查询某公钥是否为某实体所有，因为包含某公钥的证书是 CA 的私钥加密的。CA 的公钥是自验证的
- X.509 规定了 CA 的证书的统一格式，X.509 公钥基础结构 PKI（Public Key Infrastructure）
